# Лабораторная работа №3 (обычная)

Что надо сделать:

1. Написать “плохой” CI/CD файл, который работает, но в нем есть не менее пяти “bad practices” по написанию CI/CD
2. Написать “хороший” CI/CD, в котором эти плохие практики исправлены
3. В Readme описать каждую из плохих практик в плохом файле, почему она плохая и как в хорошем она была исправлена, как исправление повлияло на результат
4. Прочитать историю про Васю (она быстрая, забавная и того стоит): https://habr.com/ru/articles/689234/


## 'Плохой' CI/CD файл

Сначала создадим воркфлоу `bad.yml`, который будет автоматизируют процесс сборки, тестирования и развертывания кода при изменениях в репозитории.

![Image alt](https://github.com/lisalaktionova/itmo_devops-clouds/blob/main/DevOps/Laba_3/bad.png)

Какие 'bad practices' есть в этом CI/CD файл:

1. **Использование устаревшей версии actions/checkout**

Устаревшие версии могут содержать уязвимости, ошибки или не поддерживать новые функции.  


2. **Использование sudo в CI среде**

Использование `sudo` может привести к проблемам безопасности, а также к некорректной работе пайплайна в разных окружениях.  


3. **Игнорирование ошибок тестов**
   
Тесты могут завершаться с ошибками, но воркфлоу продолжает выполнение (`npm test || true`). Игнорирование ошибок тестов может привести к тому, что некорректный код будет продолжать двигаться по этапам CI/CD, что может вызвать проблемы на стадии деплоя.  



## 'Хороший' CI/CD файл
Создадим `good.yml`:

![Image alt](https://github.com/lisalaktionova/itmo_devops-clouds/blob/main/DevOps/Laba_3/good.png)

Как были исправлены 'bad practices' в CI/CD файл:

1. **Использование устаревшей версии actions/checkout**

В файле `good-ci.yml` обновлена версия до `actions/checkout@v3`, что улучшает стабильность, безопасность и совместимость с новыми версиями GitHub Actions.


2. **Использование sudo в CI среде**

В файле `good-ci.yml` установка зависимостей выполняется через action `actions/setup-node@v3`, а для установки пакетов используется команда `npm ci`. Это улучшает надежность и скорость сборки.


3. **Игнорирование ошибок тестов**
    
 В исправленном вокрфлоу тесты должны успешно пройти, чтобы процесс продолжился. Это гарантирует, что дальше пройдет только рабочий код.


---

История про Васю прочитана)
